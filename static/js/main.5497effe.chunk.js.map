{"version":3,"sources":["store/types.ts","store/action.ts","components/router/Router.tsx","components/router/Link.tsx","helpers/classNameHelper.ts","components/HeaderNavigation.tsx","assets/logo.svg","assets/logo-title.svg","components/Header.tsx","components/shared/Button.tsx","components/shared/CrossCard.tsx","components/pages/RoadMapPage.tsx","assets/banner.svg","services/intervalResource.ts","services/staticResource.ts","services/apiService.ts","components/PlayerCounter.tsx","services/resource.ts","components/SupportCard.tsx","components/DiscordCard.tsx","components/pages/HomePage.tsx","components/router/Route.tsx","components/App.tsx","serviceWorker.js","store/store.ts","index.js"],"names":["CHANGE_PAGE","SET_PACKS","START_LOADING","SET_ERROR","changePage","page","type","constructUrlFromParams","url","window","location","origin","pathname","extractParamsFromUrl","URL","searchParams","get","Router","children","dispatch","useDispatch","useEffect","href","handlePopState","e","state","addEventListener","removeEventListener","Link","object","className","to","routeToPage","pageName","history","pushState","useRouteToPage","useSelector","classes","active","Object","keys","filter","key","join","onClick","preventDefault","HeaderNavigation","Header","style","backgroundImage","logo","alt","src","logoTitle","Button","link","openInNewTab","target","undefined","CrossCard","props","classNames","theme","contentColor","shadowColor","bgColor","RoadMapPage","IntervalResource","getter","interval","setInterval","markDirty","listeners","Set","getterPromise","a","this","value","notify","callback","add","unsubscribe","delete","forEach","l","ACTIVITY_ENDPOINT","process","ApiService","instance","ActiveUserCount","fetch","URLSearchParams","app","then","r","json","data","console","error","total","mobends","versions","version","PlayerCounter","activeUserCount","resource","useState","setValue","cancelled","subscribe","newValue","useResource","SupportCard","DiscordCard","HomePage","banner","Route","component","App","Boolean","hostname","match","initialState","packs","packsList","loading","errorMessage","store","createStore","action","packsMap","pack","id","map","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5497effe.chunk.js","sourcesContent":["export const CHANGE_PAGE = 'CHANGE_PAGE';\r\nexport const SET_PACKS = 'SET_PACKS';\r\nexport const START_LOADING = 'START_LOADING';\r\nexport const SET_ERROR = 'SET_ERROR';\r\n\r\nexport interface ChangePageAction {\r\n    type: typeof CHANGE_PAGE\r\n    page: string | null\r\n}\r\n\r\nexport interface SetPacksAction {\r\n    type: typeof SET_PACKS\r\n    packs: BendsPack[]\r\n}\r\n\r\nexport interface StartLoadingAction {\r\n    type: typeof START_LOADING\r\n}\r\n\r\nexport interface SetErrorAction {\r\n    type: typeof SET_ERROR\r\n    error: string\r\n}\r\n\r\nexport type Action = ChangePageAction | SetPacksAction | StartLoadingAction | SetErrorAction;\r\n\r\nexport interface BendsPack {\r\n    id: string\r\n    name: string\r\n    likes: number\r\n    createdOn: Date\r\n}\r\n\r\nexport type Dict<T> = {[key: string]: T};\r\n\r\nexport interface RootState {\r\n    page: string | null\r\n    packs: Dict<BendsPack>\r\n    packsList: string[]\r\n    loading: boolean\r\n    errorMessage: string\r\n}","import { SET_PACKS, ChangePageAction, BendsPack, SetPacksAction, CHANGE_PAGE, SetErrorAction, SET_ERROR, StartLoadingAction, START_LOADING } from './types';\r\n\r\nexport function changePage(page: string | null): ChangePageAction {\r\n    return { type: CHANGE_PAGE, page };\r\n}\r\n\r\nexport function setPacks(packs: BendsPack[]): SetPacksAction {\r\n    return { type: SET_PACKS, packs };\r\n}\r\n\r\nexport function startLoading(): StartLoadingAction {\r\n    return { type: START_LOADING };\r\n}\r\n\r\nexport function setError(error: string): SetErrorAction {\r\n    return { type: SET_ERROR, error };\r\n}","import React, { useEffect, ReactNode } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { changePage } from '../../store/action';\r\n\r\nexport interface RouterProps {\r\n    children?: ReactNode\r\n}\r\n\r\ninterface RouteParams {\r\n    page: string | null\r\n}\r\n\r\nexport function constructUrlFromParams({ page }: RouteParams): string {\r\n    let url = window.location.origin + window.location.pathname;\r\n    if (page) {\r\n        url += `?page=${page}`;\r\n    }\r\n    return url;\r\n}\r\n\r\nexport function useRouteToPage() {\r\n    const dispatch = useDispatch();\r\n\r\n    return (pageName: string | null) => {\r\n        let url = constructUrlFromParams({ page: pageName });\r\n\r\n        window.history.pushState({\r\n            url,\r\n        }, '', url);\r\n\r\n        dispatch(changePage(pageName));\r\n    }\r\n}\r\n\r\nexport function extractParamsFromUrl(url: string) {\r\n    const urlObject = new URL(url);\r\n    const searchParams = urlObject.searchParams;\r\n\r\n    return {\r\n        page: searchParams.get('page'),\r\n    };\r\n}\r\n\r\nexport function Router({ children }: RouterProps) {\r\n    const dispatch = useDispatch();\r\n    \r\n    useEffect(() => {\r\n        const { page } = extractParamsFromUrl(window.location.href);\r\n        dispatch(changePage(page));\r\n    }, [ dispatch ]);\r\n\r\n    useEffect(() => {\r\n        const handlePopState = (e: PopStateEvent) => {\r\n            if (e.state) {\r\n                const { page } = extractParamsFromUrl(e.state.url);\r\n                dispatch(changePage(page));\r\n            }\r\n        };\r\n        window.addEventListener('popstate', handlePopState);\r\n        return () => window.removeEventListener('popstate', handlePopState);\r\n    }, [ dispatch ]);\r\n\r\n    return <div>{ children }</div>;\r\n}","import React, { ReactNode } from 'react';\r\nimport { useRouteToPage, constructUrlFromParams } from './Router';\r\nimport { useSelector } from 'react-redux';\r\nimport { RootState } from '../../store/types';\r\nimport { combineClasses } from '../../helpers/classNameHelper';\r\n\r\nexport interface LinkProps {\r\n    children?: ReactNode\r\n    className?: string\r\n    to: string | null\r\n}\r\n\r\nexport function Link({ className, children, to }: LinkProps) {\r\n\r\n    const routeToPage = useRouteToPage();\r\n    const page = useSelector((state: RootState) => state.page);\r\n\r\n    const handleClick = (e: React.MouseEvent<HTMLAnchorElement, MouseEvent>) => {\r\n        e.preventDefault();\r\n        routeToPage(to);\r\n    };\r\n\r\n    const classes = combineClasses({\r\n        active: page === to,\r\n    });\r\n\r\n    return (\r\n        <a href={constructUrlFromParams({ page: to })} onClick={handleClick} className={[className, classes].join(' ')}>\r\n            { children }\r\n        </a>\r\n    );\r\n}","export function combineClasses(object: {[key: string]: boolean}): string {\r\n    return Object.keys(object).filter(key => object[key]).join(' ');\r\n}","import React from 'react';\r\nimport { Link } from './router/Link';\r\n\r\nimport './HeaderNavigation.scss';\r\n\r\n\r\nexport function HeaderNavigation() {\r\n    return (\r\n        <nav className='HeaderNavigation'>\r\n            <Link to={null}>Home</Link>\r\n            <Link to='roadmap'>What's to come?</Link>\r\n        </nav>\r\n    );\r\n}","export default __webpack_public_path__ + \"static/media/logo.484c49ab.svg\";","export default __webpack_public_path__ + \"static/media/logo-title.97b84e0b.svg\";","import React from 'react';\r\nimport './Header.scss';\r\n\r\nimport { HeaderNavigation } from './HeaderNavigation';\r\nimport logo from '../assets/logo.svg';\r\nimport logoTitle from '../assets/logo-title.svg';\r\nimport { Link } from './router/Link';\r\n\r\nexport function Header() {\r\n    return (\r\n        <header className=\"Header\">\r\n            <div className=\"Header__left\">\r\n                <Link className=\"Header__logo\" to={null}>\r\n                    <span style={{ backgroundImage: `url(${logo})` }}></span>\r\n                    <img alt='Logo' src={logo}></img>\r\n                </Link>\r\n                <Link className=\"Header__logo-title\" to={null}>\r\n                    <img alt=\"Mo' Bends\" src={logoTitle}></img>\r\n                </Link>\r\n            </div>\r\n            <div className=\"Header__right\">\r\n                <HeaderNavigation />\r\n            </div>\r\n        </header>\r\n    );\r\n}","import React from 'react';\r\nimport './Button.scss';\r\n\r\nexport interface ButtonProps {\r\n    children?: React.ReactChild;\r\n    link?: string;\r\n    openInNewTab?: boolean;\r\n}\r\n\r\nexport function Button({ children, link, openInNewTab }: ButtonProps) {\r\n    if (link) {\r\n        return <a className=\"Button\" href={link} target={openInNewTab ? '_blank' : undefined}>{children}</a>;\r\n    } else {\r\n        return <button className=\"Button\">{children}</button>;\r\n    }\r\n}","import React from 'react';\nimport { WrapperProps } from './commonProps';\nimport classNames from 'classnames';\n\n/* Styles */\nimport './CrossCard.scss';\n\nexport interface CrossCardTheme {\n    contentColor: string;\n    shadowColor: string;\n    bgColor: string;\n}\n\nexport interface CrossCardProps extends WrapperProps {\n    theme?: CrossCardTheme;\n}\n\nexport function CrossCard(props: CrossCardProps) {\n    return (\n        <div\n            className={classNames('CrossCard', props.className)}\n            style={{\n                ...props.style,\n                ['--CrossCard-color' as any]: props.theme?.contentColor,\n                ['--CrossCard-shadow' as any]: props.theme?.shadowColor,\n                ['--CrossCard-bg' as any]: props.theme?.bgColor,\n            }}\n        >\n            {props.children}\n        </div>\n    );\n}\n","import React from 'react';\r\nimport { DiscordCard } from '../DiscordCard';\r\nimport { Button } from '../shared/Button';\r\nimport { CrossCard } from '../shared/CrossCard';\r\n\r\n/* Styles */\r\nimport './RoadMapPage.scss';\r\n\r\nexport function RoadMapPage() {\r\n    return (\r\n        <div className=\"RoadMapPage\">\r\n            <CrossCard className=\"RoadMapPage__card\" theme={{\r\n                contentColor: '#fff',\r\n                shadowColor: '#0467a0',\r\n                bgColor: '#169cb4',\r\n            }}>\r\n                <h1>THE FUTURE</h1>\r\n                <p>\r\n                    While I support versions <b>1.0.0</b> and onwards, I'm working on the next step, <b>Mo' Bends 2.0.0</b>.\r\n                </p>\r\n                <p>\r\n                    I've completed most of the tough tasks, but we've still got a hell of a road ahead of us. You can see the live progress\r\n                    and roadmap on my <b>Discord Server</b>. Join below!\r\n                </p>\r\n                <Button link=\"https://discord.gg/Epf7atm\" openInNewTab>Join the Discord</Button>\r\n            </CrossCard>\r\n        </div>\r\n    );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/banner.cd0a1f2d.svg\";","import { IResource } from './resource';\nimport { StaticResource } from './staticResource';\n\nexport class IntervalResource<T> extends StaticResource<T> {\n    constructor(getter: () => Promise<T>, interval: number) {\n        super(getter);\n\n        setInterval(() => {\n            this.markDirty();\n            this.get();\n        }, interval);\n    }\n}\n","import { IResource, IResourceChangeListener } from './resource';\n\nexport class StaticResource<T> implements IResource<T> {\n    private listeners: Set<IResourceChangeListener<T>> = new Set();\n    private getterPromise: Promise<T>|null = null;\n\n    constructor(private readonly getter: () => Promise<T>) {}\n\n    async get(): Promise<T> {\n        if (this.getterPromise === null) {\n            this.getterPromise = this.getter();\n            \n            const value = await this.getterPromise;\n            this.notify(value);\n            return value;\n        }\n\n        return await this.getterPromise;\n    }\n\n    markDirty(): void {\n        this.getterPromise = null;\n    }\n\n    subscribe(callback: IResourceChangeListener<T>): () => void {\n        this.listeners.add(callback);\n\n        return () => this.unsubscribe(callback);\n    }\n\n    unsubscribe(callback: IResourceChangeListener<T>): void {\n        this.listeners.delete(callback);\n    }\n\n    private notify(value: T) {\n        this.listeners.forEach(l => l(value));\n    }\n}","import { IntervalResource } from './intervalResource';\r\n\r\nconst API_ENDPOINT = process.env.REACT_APP_MOBENDS_API_URL || 'localhost:5000';\r\nconst ACTIVITY_ENDPOINT = `${API_ENDPOINT}/activity`;\r\n\r\nexport class ApiService {\r\n    public static readonly instance = new ApiService();\r\n}\r\n\r\nexport const ActiveUserCount = new IntervalResource(async () => {\r\n    let data;\r\n\r\n    const appId = 'mobends';\r\n\r\n    try {\r\n        data = await fetch(`${ACTIVITY_ENDPOINT}/pings?` + new URLSearchParams({\r\n            app: appId,\r\n        })).then(r => r.json());\r\n    }\r\n    catch (e) {\r\n        console.error(`Unexpected error:`, e);\r\n        return 0;\r\n    }\r\n\r\n    let total = 0;\r\n    if (data.mobends !== undefined) {\r\n        const versions = Object.keys(data.mobends);\r\n        for (const version of versions) {\r\n            total += data.mobends[version];\r\n        }\r\n    }\r\n\r\n    return total;\r\n}, 10000); // Updating every 10 seconds","import React from 'react';\r\nimport { ActiveUserCount } from '../services/apiService';\r\nimport { useResource } from '../services/resource';\r\nimport { Button } from './shared/Button';\r\nimport { CrossCard } from './shared/CrossCard';\r\n\r\n/* Styles */\r\nimport './PlayerCounter.scss';\r\n\r\nexport function PlayerCounter() {\r\n    const activeUserCount = useResource(ActiveUserCount);\r\n\r\n    return (\r\n        <CrossCard className=\"PlayerCounter\">\r\n            <p>Online users of Mo' Bends:</p>\r\n            <p className=\"count\">{activeUserCount || 0}</p>\r\n            <Button link=\"https://www.curseforge.com/minecraft/mc-mods/mo-bends\" openInNewTab>Download Mo' Bends</Button>\r\n        </CrossCard>\r\n    );\r\n}\r\n","import { useEffect, useState } from 'react';\n\nexport type IResourceChangeListener<T> = (value: T) => void;\n\nexport interface IResource<T> {\n    get(): Promise<T>;\n    subscribe(callback: IResourceChangeListener<T>): () => void;\n    unsubscribe(callback: IResourceChangeListener<T>): void;\n}\n\ntype ResourceMap<T> = {[key in keyof T]: IResource<T[key]>};\n\nexport interface ITask<T extends object> {\n    key: string;\n    deps: ResourceMap<T>;\n}\n\nexport function createTask<T extends object>(key: string, resources: ResourceMap<T>): ITask<T> {\n    return {\n        key,\n        deps: resources,\n    };\n}\n\nexport function useResource<T>(resource: IResource<T>): T|null {\n    const [value, setValue] = useState<T|null>(null);\n\n    useEffect(() => {\n        let cancelled = false;\n\n        resource.get().then(value => {\n            if (!cancelled)\n                setValue(value);\n        });\n\n        // Subscribe to future updates.\n        const unsubscribe = resource.subscribe(newValue => {\n            setValue(newValue);\n        });\n\n        return () => {\n            unsubscribe();\n\n            cancelled = true;\n        };\n    }, []);\n\n    return value;\n}\n\nexport function useResources<T extends object>(task: ITask<T>): T|null {\n    const [values, setValues] = useState<null|T>(null);\n\n    const { key: taskKey, deps } = task;\n\n    useEffect(() => {\n        let cancelled = false;\n\n        const resourceKeys = Object.keys(deps);\n        const resourcePromises = resourceKeys.map(key => (deps as any)[key].get());\n\n        const unsubscribers: (() => void)[] = [];\n\n        for (const resourceKey of resourceKeys) {\n            const resource = (deps as any)[resourceKey] as IResource<any>;\n\n            unsubscribers.push(resource.subscribe((value) => {\n                setValues(old => ({\n                    ...old,\n                    [resourceKey]: value\n                } as any));\n            }));\n        }\n\n        Promise.all(resourcePromises).then(result => {\n            if (cancelled) {\n                return;\n            }\n\n            let valuesMap: any = {};\n\n            resourceKeys.forEach((key, index) => {\n                valuesMap[key] = result[index];\n            });\n\n            setValues(valuesMap);\n        });\n\n        return () => {\n            cancelled = true;\n\n            for (const unsub of unsubscribers) {\n                unsub();\n            }\n        };\n    }, [deps, setValues]);\n\n    return values;\n}\n","import React from 'react';\nimport { Button } from './shared/Button';\nimport { CrossCard } from './shared/CrossCard';\n\n/* Styles */\nimport './SupportCard.scss';\n\nexport function SupportCard() {\n    return (\n        <CrossCard className=\"SupportCard\" theme={{\n            contentColor: '#fff',\n            shadowColor: '#ab0034',\n            bgColor: '#ff424d',\n        }}>\n            <h1>SUPPORT</h1>\n            <ul>\n                <li>Customize your <b>Sword Trail</b> color</li>\n                <li>Early-access to new versions</li>\n                <li>Help with continued development</li>\n            </ul>\n            <Button link=\"https://www.patreon.com/goblinbob\" openInNewTab>Become a Supporter</Button>\n        </CrossCard>\n    );\n}\n","import React from 'react';\nimport { Button } from './shared/Button';\nimport { CrossCard } from './shared/CrossCard';\n\nexport function DiscordCard() {\n    return (\n        <CrossCard className=\"DiscordCard\" theme={{\n            contentColor: '#fff',\n            shadowColor: '#0467a0',\n            bgColor: '#169cb4',\n        }}>\n            <h1>COMMUNITY</h1>\n            <ul>\n                <li>Weekly livestreams</li>\n                <li>Chat with fellow players</li>\n                <li>Suggest </li>\n            </ul>\n            <Button link=\"https://discord.gg/Epf7atm\" openInNewTab>Join the Discord</Button>\n        </CrossCard>\n    );\n}\n","import React from 'react';\r\nimport './HomePage.scss';\r\n\r\nimport banner from '../../assets/banner.svg';\r\nimport { PlayerCounter } from '../PlayerCounter';\r\nimport { SupportCard } from '../SupportCard';\r\nimport { DiscordCard } from '../DiscordCard';\r\n\r\nexport function HomePage() {\r\n    return (\r\n        <div className=\"HomePage\">\r\n            <div className=\"HomePage__banner\" style={{\r\n                backgroundImage: `url(${banner})`,\r\n            }}>\r\n                <PlayerCounter />\r\n            </div>\r\n            <div className=\"HomePage__cards\">\r\n                <DiscordCard />\r\n                <SupportCard />\r\n            </div>\r\n        </div>\r\n    );\r\n}","import { useSelector } from 'react-redux';\r\nimport { RootState } from '../../store/types';\r\n\r\nexport interface RouteProps {\r\n    page: string | null\r\n    component: JSX.Element\r\n}\r\n\r\nexport function Route({page, component}: RouteProps) {\r\n    const currentPage = useSelector((state: RootState) => state.page);\r\n\r\n    const showRoute = page === currentPage;\r\n    return showRoute ? component : null;\r\n}","import React from 'react';\r\nimport './App.scss';\r\n\r\nimport SimpleBar from 'simplebar-react';\r\nimport 'simplebar/dist/simplebar.min.css';\r\nimport { Header } from './Header';\r\nimport { RoadMapPage } from './pages/RoadMapPage';\r\nimport { HomePage } from './pages/HomePage';\r\nimport { Route } from './router/Route';\r\nimport { Router } from './router/Router';\r\n\r\nfunction App() {\r\n    return (\r\n        <Router>\r\n            <div className=\"App\">\r\n                <Header />\r\n                <div className=\"App__content\">\r\n                    <SimpleBar>\r\n                        <Route page=\"roadmap\" component={<RoadMapPage />} />\r\n                        <Route page={null} component={<HomePage />} />\r\n                    </SimpleBar>\r\n                </div>\r\n            </div>\r\n        </Router>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import { createStore } from 'redux';\r\nimport { RootState, SET_PACKS, CHANGE_PAGE, BendsPack, Action, SET_ERROR, START_LOADING } from './types';\r\n\r\nconst initialState: RootState = {\r\n    page: null,\r\n    packs: {},\r\n    packsList: [],\r\n    loading: false,\r\n    errorMessage: '',\r\n};\r\n\r\nconst reducer = (state: RootState = initialState, action: Action) => {\r\n    switch(action.type) {\r\n        case CHANGE_PAGE:\r\n            return {\r\n                ...state,\r\n                page: action.page,\r\n            };\r\n        case SET_PACKS:\r\n            const packsMap: {[key: string]: BendsPack} = {};\r\n            action.packs.forEach(pack => packsMap[pack.id] = pack);\r\n\r\n            return {\r\n                ...state,\r\n                packs: {\r\n                    ...state.packs,\r\n                    ...packsMap,\r\n                },\r\n                packsList: action.packs.map(pack => pack.id),\r\n            };\r\n        case START_LOADING:\r\n            return {\r\n                ...state,\r\n                loading: true,\r\n                errorMessage: '',\r\n            };\r\n        case SET_ERROR:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                errorMessage: action.error,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const store = createStore(\r\n    reducer,\r\n    (window as any).__REDUX_DEVTOOLS_EXTENSION__ && (window as any).__REDUX_DEVTOOLS_EXTENSION__()\r\n);","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport './index.css';\r\n\r\nimport App from './components/App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { store } from './store/store';\r\n\r\nReactDOM.render((\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>\r\n), document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}