(this["webpackJsonpmo-bends-website"]=this["webpackJsonpmo-bends-website"]||[]).push([[0],{104:function(e,t,n){},105:function(e,t,n){},153:function(e,t,n){},154:function(e,t,n){},155:function(e,t,n){},157:function(e,t,n){},158:function(e,t,n){},159:function(e,t,n){},160:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(28),o=n.n(c),i=n(8),u=(n(104),n(105),n(94)),s=(n(152),n(153),n(154),"CHANGE_PAGE"),l="SET_PACKS",f="START_LOADING",m="SET_ERROR";function b(e){return{type:s,page:e}}function p(e){var t=e.page,n=window.location.origin+window.location.pathname;return t&&(n+="?page=".concat(t)),n}function v(e){return{page:new URL(e).searchParams.get("page")}}function d(e){var t=e.children,n=Object(i.b)();return Object(a.useEffect)((function(){var e=v(window.location.href).page;n(b(e))}),[n]),Object(a.useEffect)((function(){var e=function(e){if(e.state){var t=v(e.state.url).page;n(b(t))}};return window.addEventListener("popstate",e),function(){return window.removeEventListener("popstate",e)}}),[n]),r.a.createElement("div",null,t)}function g(e){var t,n=e.className,a=e.children,c=e.to,o=function(){var e=Object(i.b)();return function(t){var n=p({page:t});window.history.pushState({url:n},"",n),e(b(t))}}(),u=Object(i.c)((function(e){return e.page})),s=(t={active:u===c},Object.keys(t).filter((function(e){return t[e]})).join(" "));return r.a.createElement("a",{href:p({page:c}),onClick:function(e){e.preventDefault(),o(c)},className:[n,s].join(" ")},a)}function E(){return r.a.createElement("nav",{className:"HeaderNavigation"},r.a.createElement(g,{to:null},"Home"),r.a.createElement(g,{to:"editor"},"Animation Editor"))}var h=n.p+"static/media/logo.484c49ab.svg";function O(){return r.a.createElement("header",{className:"Header"},r.a.createElement(g,{className:"Header__logo",to:null},r.a.createElement("span",{style:{backgroundImage:"url(".concat(h,")")}}),r.a.createElement("img",{alt:"Logo",src:h})),r.a.createElement(E,null))}n(155);var j=n(19),w=n.n(j),k=n(30),_=n(18),y=n(95),N=n(93),P=n(91),S=function(e){Object(y.a)(n,e);var t=Object(N.a)(n);function n(e,a){var r;return Object(_.a)(this,n),r=t.call(this,e),setInterval((function(){r.markDirty(),r.get()}),a),r}return n}(function(){function e(t){Object(_.a)(this,e),this.getter=t,this.listeners=new Set,this.getterPromise=null}return Object(P.a)(e,[{key:"get",value:function(){var e=Object(k.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this.getterPromise){e.next=7;break}return this.getterPromise=this.getter(),e.next=4,this.getterPromise;case 4:return t=e.sent,this.notify(t),e.abrupt("return",t);case 7:return e.next=9,this.getterPromise;case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"markDirty",value:function(){this.getterPromise=null}},{key:"subscribe",value:function(e){var t=this;return this.listeners.add(e),function(){return t.unsubscribe(e)}}},{key:"unsubscribe",value:function(e){this.listeners.delete(e)}},{key:"notify",value:function(e){this.listeners.forEach((function(t){return t(e)}))}}]),e}()),A="".concat("http://localhost:5000","/activity"),L=function e(){Object(_.a)(this,e)};L.instance=new L;var R=new S(Object(k.a)(w.a.mark((function e(){var t,n,a,r,c,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"mobends",e.prev=1,e.next=4,fetch("".concat(A,"/pings?")+new URLSearchParams({app:"mobends"})).then((function(e){return e.json()}));case 4:t=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),console.error("Unexpected error:",e.t0),e.abrupt("return",0);case 11:if(n=0,void 0!==t.mobends)for(a=Object.keys(t.mobends),r=0,c=a;r<c.length;r++)o=c[r],n+=t.mobends[o];return e.abrupt("return",n);case 14:case"end":return e.stop()}}),e,null,[[1,7]])}))),1e4),T=n(92),D=n(31),x=n(3),U=n(52);function B(e,t){return{key:e,deps:t}}var C=B("EDITOR_PAGE_TASK",{activeUserCount:R});function H(){var e=Object(i.c)((function(e){return e.errorMessage}));!function(e){var t=Object(a.useState)(null),n=Object(U.a)(t,2),r=n[0],c=n[1],o=(e.key,e.deps);Object(a.useEffect)((function(){for(var e=!1,t=Object.keys(o),n=t.map((function(e){return o[e].get()})),a=[],r=function(){var e=u[i],t=o[e];a.push(t.subscribe((function(t){c((function(n){return Object(x.a)(Object(x.a)({},n),{},Object(D.a)({},e,t))}))})))},i=0,u=t;i<u.length;i++)r();return Promise.all(n).then((function(n){if(!e){var a={};t.forEach((function(e,t){a[e]=n[t]})),c(a)}})),function(){e=!0;var t,n=Object(T.a)(a);try{for(n.s();!(t=n.n()).done;)(0,t.value)()}catch(r){n.e(r)}finally{n.f()}}}),[o,c])}(C);return r.a.createElement("div",{className:"EditorPage"},r.a.createElement("div",{className:"EditorPage__error"},e))}n(157),n(158),n(159);function I(e){var t=e.children,n=e.link;return n?r.a.createElement("a",{className:"Button",href:n},t):r.a.createElement("button",{className:"Button"},t)}B("PLAYER_COUNTER",{activeUserCount:R});function M(){var e=function(e){var t=Object(a.useState)(null),n=Object(U.a)(t,2),r=n[0],c=n[1];return Object(a.useEffect)((function(){var t=!1;e.get().then((function(e){t||c(e)}));var n=e.subscribe((function(e){c(e)}));return function(){n(),t=!0}}),[]),r}(R);return r.a.createElement("div",{className:"PlayerCounter"},r.a.createElement("p",null,"Online users of Mo' Bends:"),r.a.createElement("p",{className:"count"},e||0),r.a.createElement(I,{link:"https://www.curseforge.com/minecraft/mc-mods/mo-bends"},"Download Mo' Bends"))}var G=n.p+"static/media/banner.f35c09a3.svg";function X(){return r.a.createElement("div",{className:"HomePage"},r.a.createElement("img",{className:"HomePage__banner",alt:"Banner",src:G}),r.a.createElement(M,null))}function J(e){var t=e.page,n=e.component;return t===Object(i.c)((function(e){return e.page}))?n:null}var K=function(){return r.a.createElement(d,null,r.a.createElement("div",{className:"App"},r.a.createElement(O,null),r.a.createElement("div",{className:"App__content"},r.a.createElement(u.a,null,r.a.createElement(J,{page:"editor",component:r.a.createElement(H,null)}),r.a.createElement(J,{page:null,component:r.a.createElement(X,null)})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var V=n(29),W={page:null,packs:{},packsList:[],loading:!1,errorMessage:""},Y=Object(V.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return Object(x.a)(Object(x.a)({},e),{},{page:t.page});case l:var n={};return t.packs.forEach((function(e){return n[e.id]=e})),Object(x.a)(Object(x.a)({},e),{},{packs:Object(x.a)(Object(x.a)({},e.packs),n),packsList:t.packs.map((function(e){return e.id}))});case f:return Object(x.a)(Object(x.a)({},e),{},{loading:!0,errorMessage:""});case m:return Object(x.a)(Object(x.a)({},e),{},{loading:!1,errorMessage:t.error});default:return e}}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(r.a.createElement(i.a,{store:Y},r.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[160,1,2]]]);
//# sourceMappingURL=main.c93e687d.chunk.js.map